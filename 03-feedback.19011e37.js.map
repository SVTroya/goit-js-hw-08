{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,sBAC7BC,WAAYF,SAASC,cAAc,cACnCE,aAAcH,SAASC,cAAc,iBACrCG,UAAWJ,SAASC,cAAc,gBAGpC,IAAII,EAEJC,OAAOC,iBAAiB,QAAQ,KAC9BF,EAAeT,EAAAY,QAAQC,KAJN,wBAI0B,CAACC,MAAO,GAAIC,QAAS,IAChEb,EAAKI,WAAWU,MAAQP,EAAaK,MACrCZ,EAAKK,aAAaS,MAAQP,EAAaM,OAAO,IAIhDb,EAAKI,WAAWK,iBAAiB,QAASM,EAAAC,EAAA,EAAS,KACjDT,EAAaK,MAAQZ,EAAKI,WAAWU,MACrChB,EAAAY,QAAQO,KAZS,sBAYQV,EAAa,GACrC,MAEHP,EAAKK,aAAaI,iBAAiB,QAASM,EAAAC,EAAA,EAAS,KACnDT,EAAaM,QAAUb,EAAKK,aAAaS,MACzChB,EAAAY,QAAQO,KAjBS,sBAiBQV,EAAa,GACrC,MAEHP,EAAKC,KAAKQ,iBAAiB,UAAWS,IACpCA,EAAGC,iBACHrB,EAAAY,QAAQU,OAtBS,uBAuBjBpB,EAAKC,KAAKoB,QACVC,QAAQC,IAAIhB,GACZA,EAAaK,MAAQ,GACrBL,EAAaM,QAAU,EAAE","sources":["src/js/03-feedback.js"],"sourcesContent":["import storage from \"./storage.js\"\nimport throttle from \"lodash/throttle\"\n\nconst refs = {\n  form: document.querySelector('form.feedback-form'),\n  emailInput: document.querySelector('form input'),\n  messageInput: document.querySelector('form textarea'),\n  submitBtn: document.querySelector('form button')\n}\nconst storageKey = \"feedback-form-state\"\nlet formInputObj\n\nwindow.addEventListener('load', () => {\n  formInputObj = storage.load(storageKey) || {email: \"\", message: \"\"}\n  refs.emailInput.value = formInputObj.email\n  refs.messageInput.value = formInputObj.message\n})\n\n\nrefs.emailInput.addEventListener('input', throttle(() => {\n  formInputObj.email = refs.emailInput.value\n  storage.save(storageKey, formInputObj)\n}, 500))\n\nrefs.messageInput.addEventListener('input', throttle(() => {\n  formInputObj.message = refs.messageInput.value\n  storage.save(storageKey, formInputObj)\n}, 500))\n\nrefs.form.addEventListener('submit', (ev) => {\n  ev.preventDefault()\n  storage.remove(storageKey)\n  refs.form.reset()\n  console.log(formInputObj)\n  formInputObj.email = \"\"\n  formInputObj.message = \"\"\n})"],"names":["$5uEKZ","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","emailInput","messageInput","submitBtn","$945622fd0f572e60$var$formInputObj","window","addEventListener","default","load","email","message","value","$parcel$interopDefault","$8zd4h","save","ev","preventDefault","remove","reset","console","log"],"version":3,"file":"03-feedback.19011e37.js.map"}