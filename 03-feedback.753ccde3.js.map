{"mappings":"iiBAAA,IAUIA,EAVJC,EAAAC,EAAA,S,aAGMC,EAAO,CACXC,KAAMC,SAASC,cAAc,sBAC7BC,WAAYF,SAASC,cAAc,cACnCE,aAAcH,SAASC,cAAc,iBACrCG,UAAWJ,SAASC,cAAc,gBAE9BI,EAAa,sBAGnBC,OAAOC,iBAAiB,QAAQ,WAC9BZ,EAAeC,EAAAY,QAAQC,KAAKJ,IAAe,CAACK,MAAO,GAAIC,QAAS,IAChEb,EAAKI,WAAWU,MAAQjB,EAAae,MACrCZ,EAAKK,aAAaS,MAAQjB,EAAagB,O,IAIzCb,EAAKI,WAAWK,iBAAiB,QAASM,EAAAC,EAAA,EAAS,WACjDnB,EAAae,MAAQZ,EAAKI,WAAWU,MACrChB,EAAAY,QAAQO,KAAKV,EAAYV,E,GACxB,MAEHG,EAAKK,aAAaI,iBAAiB,QAASM,EAAAC,EAAA,EAAS,WACnDnB,EAAagB,QAAUb,EAAKK,aAAaS,MACzChB,EAAAY,QAAQO,KAAKV,EAAYV,E,GACxB,MAEHG,EAAKC,KAAKQ,iBAAiB,UAAU,SAACS,GACpCA,EAAGC,iBACHrB,EAAAY,QAAQU,OAAOb,GACfP,EAAKC,KAAKoB,QACVC,QAAQC,IAAI1B,GACZA,EAAae,MAAQ,GACrBf,EAAagB,QAAU,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import storage from \"./storage.js\"\nimport throttle from \"lodash/throttle\"\n\nconst refs = {\n  form: document.querySelector('form.feedback-form'),\n  emailInput: document.querySelector('form input'),\n  messageInput: document.querySelector('form textarea'),\n  submitBtn: document.querySelector('form button')\n}\nconst storageKey = \"feedback-form-state\"\nlet formInputObj\n\nwindow.addEventListener('load', () => {\n  formInputObj = storage.load(storageKey) || {email: \"\", message: \"\"}\n  refs.emailInput.value = formInputObj.email\n  refs.messageInput.value = formInputObj.message\n})\n\n\nrefs.emailInput.addEventListener('input', throttle(() => {\n  formInputObj.email = refs.emailInput.value\n  storage.save(storageKey, formInputObj)\n}, 500))\n\nrefs.messageInput.addEventListener('input', throttle(() => {\n  formInputObj.message = refs.messageInput.value\n  storage.save(storageKey, formInputObj)\n}, 500))\n\nrefs.form.addEventListener('submit', (ev) => {\n  ev.preventDefault()\n  storage.remove(storageKey)\n  refs.form.reset()\n  console.log(formInputObj)\n  formInputObj.email = \"\"\n  formInputObj.message = \"\"\n})"],"names":["$b00c40859be242c5$var$formInputObj","$jzQFI","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","emailInput","messageInput","submitBtn","$b00c40859be242c5$var$storageKey","window","addEventListener","default","load","email","message","value","$parcel$interopDefault","$eaxEB","save","ev","preventDefault","remove","reset","console","log"],"version":3,"file":"03-feedback.753ccde3.js.map"}