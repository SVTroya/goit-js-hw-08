{"mappings":"iiBAAA,IASIA,EATJC,EAAAC,EAAA,S,aAGMC,EAAO,CACXC,KAAMC,SAASC,cAAc,sBAC7BC,WAAYF,SAASC,cAAc,cACnCE,aAAcH,SAASC,cAAc,kBAEjCG,EAAa,sBAGnBC,OAAOC,iBAAiB,QAAQ,WAC9BX,EAAeC,EAAAW,QAAQC,KAAKJ,IAAe,CAACK,MAAO,GAAIC,QAAS,IAChEZ,EAAKI,WAAWS,MAAQhB,EAAac,MACrCX,EAAKK,aAAaQ,MAAQhB,EAAae,O,IAIzCZ,EAAKI,WAAWI,iBAAiB,QAASM,EAAAC,EAAA,EAAS,WACjDlB,EAAac,MAAQX,EAAKI,WAAWS,MACrCf,EAAAW,QAAQO,KAAKV,EAAYT,E,GACxB,MAEHG,EAAKK,aAAaG,iBAAiB,QAASM,EAAAC,EAAA,EAAS,WACnDlB,EAAae,QAAUZ,EAAKK,aAAaQ,MACzCf,EAAAW,QAAQO,KAAKV,EAAYT,E,GACxB,MAEHG,EAAKC,KAAKO,iBAAiB,UAAU,SAACS,GACpCA,EAAGC,iBACHpB,EAAAW,QAAQU,OAAOb,GACfN,EAAKC,KAAKmB,QACVC,QAAQC,IAAIzB,GACZA,EAAac,MAAQ,GACrBd,EAAae,QAAU,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import storage from \"./storage.js\"\nimport throttle from \"lodash/throttle\"\n\nconst refs = {\n  form: document.querySelector('form.feedback-form'),\n  emailInput: document.querySelector('form input'),\n  messageInput: document.querySelector('form textarea')\n}\nconst storageKey = \"feedback-form-state\"\nlet formInputObj\n\nwindow.addEventListener('load', () => {\n  formInputObj = storage.load(storageKey) || {email: \"\", message: \"\"}\n  refs.emailInput.value = formInputObj.email\n  refs.messageInput.value = formInputObj.message\n})\n\n\nrefs.emailInput.addEventListener('input', throttle(() => {\n  formInputObj.email = refs.emailInput.value\n  storage.save(storageKey, formInputObj)\n}, 500))\n\nrefs.messageInput.addEventListener('input', throttle(() => {\n  formInputObj.message = refs.messageInput.value\n  storage.save(storageKey, formInputObj)\n}, 500))\n\nrefs.form.addEventListener('submit', (ev) => {\n  ev.preventDefault()\n  storage.remove(storageKey)\n  refs.form.reset()\n  console.log(formInputObj)\n  formInputObj.email = \"\"\n  formInputObj.message = \"\"\n})"],"names":["$b00c40859be242c5$var$formInputObj","$jzQFI","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","emailInput","messageInput","$b00c40859be242c5$var$storageKey","window","addEventListener","default","load","email","message","value","$parcel$interopDefault","$eaxEB","save","ev","preventDefault","remove","reset","console","log"],"version":3,"file":"03-feedback.c58f8160.js.map"}